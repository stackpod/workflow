"$schema": https://json-schema.org/draft/2020-12/schema
$id: https://stackpod.io/workflows/schema
title: Workflows
description: Workflows to define business actions
type: object
properties:
  workflows:
    description: List of defined workflows
    type: array
    items:
      type: object
      properties:
        name:
          description: Name of the workflow
          type: string
          minLength: 5
          maxLength: 255
          pattern: "^[A-Za-z0-9][A-Za-z0-9 -_.]+$"
        description:
          description: Description of the workflow
          type: string
        actions:
          type: array
          minItems: 1
          items:
            type: object
            properties:
              name:
                description: Name of this specific action. Optional.
                type: string
              setvars:
                type: object
              assert:
                type: object
            anyOf:
            - required: [ "name", "setvars" ]
            - required: [ "name", "assert" ]
            additionalProperties: false
            maxProperties: 2
      required:
      - name
      - actions
required:
  - workflows
additionalProperties: false

